# 인터넷은 어떻게 작동될까?
인터넷은 컴퓨터들이 서로 통신 가능하게 하는 거대한 네트워크이다.  
컴퓨터가 통신하기 위해서는 무선 혹은 유선으로 연결되어 있어야 한다.  

![image](https://user-images.githubusercontent.com/70744494/163911694-d9bce02f-87c4-44e4-a1da-9478e83ef3e0.png)

  각각의 컴퓨터는 **라우터**를 통해 네트워크에 연결된다. 라우터는 메시지를 올바르게 전달하는 역할을 한다. 
라우터는 각각의 라우터들과도 연결 가능한데, 이를 통해 네트워크 속의 네트워크를 형성하여 무한히 확장할 수 있다. 

![image](https://user-images.githubusercontent.com/70744494/163911947-db61daa1-5660-4ba5-b974-f4c9ba705ca6.png)  
  
  이렇게 구축한 네트워크를 **모뎀**을 이용해 전화 시설에 연결한다. 모뎀은 네트워크의 정보를 전화 시설에서 처리할 수 있는 정보로 바꾸는 역할을 한다.

![image](https://user-images.githubusercontent.com/70744494/163914036-70dfa7fe-08bf-4c97-8245-9a32a2fcd6fa.png)


우리의 네트워크는 다른 네트워크로 메시지를 보내기 위해 인터넷 서비스 제공 업체 (Internet Service Provide, **ISP**)에 연결된다. 
**ISP**는 여러 개의 네트워크가 연결되는 특수한 라우터를 관리하고 다른 ISP의 라우터에도 액세스 할 수 있게 하는 회사이다.
 우리의 네트워크는 ISP 네트워크의 네트워크를 통해 대상 네트워크로 전달된다. 

![image](https://user-images.githubusercontent.com/70744494/163913967-abd939f5-1a74-4bdd-9ea1-4d5ec7fca266.png)

### 컴퓨터 찾기
네트워크에 연결된 모든 컴퓨터는 고유한 **IP (Internet Protocol)주소**를 가진다.  
ex) ``192.168.2.10``

**도메인 네임**은 사람이 읽을 수 있는 IP 주소의 이름을 지정한다.
우리는 인터넷을 사용할 때 도메인 네임을 이용해 IP 주소를 찾아간다.  
ex) ``google.com`` 의 IP 주소는 ``173.194.121.31``이다.

![image](https://user-images.githubusercontent.com/70744494/163915105-3198b905-9404-449d-a076-a99ae5fbb61a.png)

### 인터넷과 웹
웹과 인터넷은 다르다. 인터넷은 수십억 대의 컴퓨터를 연결하는 기술 인프라를 의미하고, 웹은 그 인프라 기반 위에 구축된 서비스를 의미한다.  
인터넷 위에 구축된 다른 서비스들로는 이메일, IRC(Internet Relay Chat, 실시간 채팅 프로토콜) 등이 있다.

# HTTP란?
HTTP (HyperText Transfer Protocol) 는 TCP/IP 통신을 기반으로 HTML 문서 같은 리소스들을 가져올 수 있게 해 주는 **프로토콜**이다.  
즉, 요청과 응답을 가능하게 해 주는 메시지의 통신 규악을 의미한다.  
클라이언트-서버 프로토콜로, 연결 상태를 유지하지 않는 비연결성 프로토콜이다. 따라서 요청-응답 방식으로 동작한다.  
사용자(클라이언트)가 브라우저에서 URL 또는 다른 것을 통해 서비스를 요청(request)하면 
서버에서는 해당 요청사항에 맞는 결과를 찾아 사용자에게 응답(response)하는 형태로 동작한다.  
여기서 웹 브라우저가 클라이언트의 요청을 서버에게 전달해주고 응답받은 콘텐츠들을 화면에 보여주는 역할을 한다.  
사용자 요청에 응답한 하나의 완전한 문서는 텍스트, 레이아웃 설명, 이미지, 비디오, 스크립트 등 불러온(fetched) 하위 문서들로 재구성된다.

![image](https://user-images.githubusercontent.com/70744494/163918559-859c7edc-3d78-4bfd-81e1-1d544f0273ed.png)

  - 요청 (request) : 클라이언트에 의해 전송되는 메시지
  - 응답 (response) : 서버에서 응답으로 전송되는 메시지

HTTP는 애플리케이션 계층의 프로토콜로, HTML 문서만이 HTTP 통신을 위한 유일한 정보 문서는 아니다.  

## 클라이언트 : 사용자 에이전트
사용자 에이전트란 사용자를 대신해 동작하는 모든 도구를 의미한다.  
웹 브라우저가 사용자 에이전트의 기능을 담당한다. 브라우저는 클라이언트의 요청을 서버에게 대신 전달하고, 파일을 구문 분석해 실행해야 할 스크립트와 페이지에 포함된 
리소스들(이미지, 비디오, ..)을 잘 표시하기 위한 레이아웃 정보 (CSS)에 대응하는 추가적인 요청들을 받아온다. 받아온 리소스들을 혼합해 완전한 웹 페이지로 표시한다.


# 브라우저의 작동 원리
브라우저의 주요 기능은 사용자가 선택한 자원을 서버에 요청하고 브라우저에 표시하는 것이다. 이 때 자원은 주로 HTML 문서이지만, PDF 또는 다른 형태일 수 있다. 자원의 주소는 URI(Uniform Resource Identifier)에 의해 정해진다.
### URI란?
Uniform Resource Identifier, 인터넷 자원을 나타내는 고유 식별자이다. 인터넷에 있는 자료의 ID라고 생각하면 된다.  
ex) ``https://github.com/`` 과 같은 주소  

![image](https://user-images.githubusercontent.com/70744494/164423919-a0c2f749-a7b8-4e4f-9447-5d87c0c158a9.png)

URI는 우리가 흔히 알고 있는 용어인 URL을 포함하는 개념인데,  
URI의 하위 개념으로는 URL(Uniformed Resource Locator)과 URN(Uniformed Resource Name)이 있다.  
- URL : Uniformed Resource Locator, 해당 자원의 위치 (Path)를 의미한다. 일반적으로는 사이트 도메인을 의미한다. http와 같은 프로토콜을 포함한다.
- URN : Uniformed Resource Name, 해당 자원의 이름을 의미한다.  

브라우저는 웹 표준화 기구인 W3C(World Wide Web Consortium)에서 규정한 HTML, CSS 명세에 따라 HTML 파일을 해석해서 표시한다.  

## 브라우저 기본 구조

1. 사용자 인터페이스 - 주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등. 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분이다.
2. 브라우저 엔진 - 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어.
3. 렌더링 엔진 - 요청한 콘텐츠를 표시. 예를 들어 HTML을 요청하면 HTML과 CSS를 파싱하여 화면에 표시함.
4. 통신 - HTTP 요청과 같은 네트워크 호출에 사용됨. 이것은 플랫폼 독립적인 인터페이스이고 각 플랫폼 하부에서 실행됨.
5. UI 백엔드 - 콤보 박스와 창 같은 기본적인 장치를 그림. 플랫폼에서 명시하지 않은 일반적인 인터페이스로서, OS 사용자 인터페이스 체계를 사용.
6. 자바스크립트 해석기 - 자바스크립트 코드를 해석하고 실행.
7. 자료 저장소 - 이 부분은 자료를 저장하는 계층이다. 쿠키를 저장하는 것과 같이 모든 종류의 자원을 하드 디스크에 저장할 필요가 있다. HTML5 명세에는 브라우저가 지원하는 '[웹 데이터 베이스](https://www.html5rocks.com/en/features/storage)'가 정의되어 있다.  

![image](https://user-images.githubusercontent.com/70744494/164427768-1793f9e4-1c73-4fbc-bd2c-f99ce33f09c9.png)
  
## 렌더링 엔진
렌더링 엔진의 역할은 클라이언트에게 요청 받은 내용을 브라우저 화면에 표시하는 것이다.

### 렌더링 엔진 동작 과정
렌더링 엔진은 보통 통신으로부터 요청한 문서를 얻는 것으로부터 시작되는데, 문서 내용은 보통 8KB 단위로 전송된다.  

![image](https://user-images.githubusercontent.com/70744494/164432140-c5b5b010-981d-48ee-bce8-8a0e1dc00341.png)
  
렌더링 엔진은 HTML 문서를 파싱하고 "콘텐츠 트리" 내부에서 태그를 [DOM](https://github.com/kpk0616/TIL/blob/main/JavaScript/DOM.md) 노드로 변환한다.  
그 다음 외부 CSS 파일과 함께 포함된 스타일 요소도 파싱한다. 스타일 정보와 HTML 표시 규칙은 "렌더 트리"라고 부르는 또 다른 트리를 생성한다.  
  
렌더 트리는 색상 또는 면적과 같은 시각적 속성이 있는 사각형을 포함하고 있는데 정해진 순서대로 화면에 표시된다.    

렌더 트리 생성이 끝나면 배치가 시작되는데 이것은 각 노드가 화면의 정확한 위치에 표시되는 것을 의미한다. 다음은 UI 백엔드에서 렌더 트리의 각 노드를 가로지르며 형상을 만들어 내는 그리기 과정이다.

일련의 과정들이 점진적으로 진행된다는 것을 아는 것이 중요하다. 렌더링 엔진은 좀 더 나은 사용자 경험을 위해 가능하면 빠르게 내용을 표시하는데 모든 HTML을 파싱할 때까지 기다리지 않고 배치와 그리기 과정을 시작한다. 네트워크로부터 **나머지 내용이 전송되기를 기다리는 동시에 받은 내용의 일부를 먼저 화면에 표시**하는 것이다.  
  
크롬과 사파리의 렌더링 엔진인 웹킷(Webkit)의 동작 과정은 아래와 같다.  
웹킷은 최초 리눅스 플랫폼에서 동작하기 위해 제작된 오픈소스 엔진인데 애플이 맥과 윈도우즈에서 사파리 브라우저를 지원하기 위해 수정을 가했다. 더 자세한 내용은 [webkit.org](webkit.org)를 참조한다.  

![image](https://user-images.githubusercontent.com/70744494/164433627-20a6405a-1084-4b5b-b510-13bca73c86be.png)
  

# 도메인 네임은 무엇인가?


# 호스팅은 무엇인가?

출처 : [Web개발 학습하기 - MDN](https://developer.mozilla.org/ko/docs/Learn/Common_questions/How_does_the_Internet_work), [HTTP 개요 - MDN](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview), [HTTP란 무엇인가? - MDN](https://velog.io/@surim014/HTTP%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80)
